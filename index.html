<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Primary Meta Tags -->
  <title>J & D's Heritage Hog Farm | Whole Hogs, Red Wattle Hogs & More</title>
  <meta name="title" content="J & D's Heritage Hog Farm - Whole Hogs, Red Wattle Hogs, 1/4 Hog, 1/5 Hog, & Hogs for Sale">
  <meta name="description" content="Discover our heritage hog farm offering whole hogs, red wattle hogs, 1/4 hog, 1/5 hog options, and sustainable hogs for sale. Preorder now for fresh, local, premium quality pork.">

  <!-- SEO Keywords Meta Tag -->
  <meta name="keywords" content="hogs for sale, whole hogs, red wattle hogs, 1/4 hog, 1/5 hog, heritage hog farm, preorder hog, sustainable pork, farm fresh hogs">

  <!-- Favicon and App Icons -->
  <link rel="icon" type="image/png" sizes="32x32" href="assets/images/branding/13.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/images/branding/13.png">
  <link rel="apple-touch-icon" href="assets/images/branding/13.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#ffcd54">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://jdhogfarm.com/">
  <meta property="og:title" content="J & D's Heritage Hog Farm - Whole Hogs, Red Wattle Hogs & More">
  <meta property="og:description" content="Heritage hog farm specializing in whole hogs, red wattle hogs, 1/4 hog, 1/5 hog options, and sustainable hogs for sale. Preorder now for fresh, local, premium pork.">
  <meta property="og:image" content="https://jdhogfarm.com/assets/images/branding/13.png">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://jdhogfarm.com/">
  <meta property="twitter:title" content="J & D's Heritage Hog Farm - Whole Hogs, Red Wattle Hogs & More">
  <meta property="twitter:description" content="Discover our heritage hogs for sale: whole hogs, red wattle hogs, 1/4 hog, 1/5 hog options. Sustainably raised for premium quality. Preorder today!">
  <meta property="twitter:image" content="https://jdhogfarm.com/assets/images/branding/13.png">

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Asap:wght@500&family=Noto+Serif:wght@700&display=swap" rel="stylesheet">



  <style>
    body {
      font-family: 'Asap', sans-serif !important;
      font-weight: 500 !important;
      min-height: 100vh; 
      overflow-x: hidden;
      margin: 0;
      padding: 0;
    }

    html.faq-drawer-open,
    body.faq-drawer-open {
      overflow: hidden;
    }

    #faq-button-container {
      bottom: calc(1.5rem + env(safe-area-inset-bottom) + var(--faq-button-offset, 0px));
      transition: bottom 0.2s ease;
    }

    #faq-drawer-button {
      width: 50px;
      height: 50px;
      border-radius: 50%;
    }

    .markdown-content h1, .markdown-content h2, .markdown-content h3,
    .markdown-content h4, .markdown-content h5, .markdown-content h6,
    h1, h2, h3, h4, h5, h6 {
      font-family: 'Noto Serif', serif !important;
      font-weight: 700 !important;
    }

    .markdown-content h1, .markdown-content h2, .markdown-content h3,
    .markdown-content h4, .markdown-content h5, .markdown-content h6 {
      margin-bottom: 0.75rem !important;
      line-height: 1.2 !important;
    }

    .markdown-content h1 {
      font-size: 2em !important;
      margin-top: 1em !important;
    }

    .markdown-content h2 {
      font-size: 1.75em !important;
      margin-top: 1em !important;
    }

    .markdown-content h3 {
      font-size: 1.5em !important;
      margin-top: 1em !important;
    }

    .markdown-content h4 {
      font-size: 1.25em !important;
      margin-top: 1em !important;
    }

    .markdown-content h5 {
      font-size: 1.1em !important;
      margin-top: 1em !important;
    }

    .markdown-content h6 {
      font-size: 1em !important;
      margin-top: 1em !important;
    }

    .markdown-content p {
      margin-bottom: 1em !important;
      line-height: 1.5 !important;
    }

    .markdown-content ul, .markdown-content ol {
      padding-left: 1.25em !important;
      margin-bottom: 1em !important;
    }

    .markdown-content li {
      margin-bottom: 0.5em !important;
    }

    .markdown-content blockquote {
      border-left: 4px solid #ccc !important;
      padding-left: 1em !important;
      color: #555 !important;
      margin-bottom: 1em !important;
    }

    .markdown-content pre {
      background: #f5f5f5 !important;
      padding: 1em !important;
      overflow: auto !important;
      margin-bottom: 1em !important;
      border-radius: 4px !important;
      font-family: Consolas, Monaco, 'Courier New', monospace !important;
      font-size: 0.9em !important;
    }

    .markdown-content code {
      background: #f5f5f5 !important;
      padding: 0.2em 0.4em !important;
      border-radius: 4px !important;
      font-family: Consolas, Monaco, 'Courier New', monospace !important;
      font-size: 0.95em !important;
    }

    .markdown-content table {
      width: 100% !important;
      border: 1px solid #ddd !important;
      margin-bottom: 1em !important;
    }

    .markdown-content th, .markdown-content td {
      border: 1px solid #ddd !important;
      padding: 0.5em !important;
    }

    .markdown-content hr {
      border: none;
      border-top: 2px solid #a20000 !important;
      margin: 2em 0 !important;
    }

    .scrollbar-hide::-webkit-scrollbar {
      display: none;
    }
    .scrollbar-hide {
      -ms-overflow-style: none;
      scrollbar-width: none; 
    }

    .card-title {
      position: relative;
      border-radius: 0.75rem;
      border: 2px solid #ffcd54;
      box-shadow:
        0 0 0 2px #7a3419,
        inset 0 0 12px rgba(0, 0, 0, 0.25);
      letter-spacing: 0.08em;
    }

    .card-title::before {
      content: "";
      position: absolute;
      inset: 6px;
      border: 1px dashed rgba(255, 205, 84, 0.65);
      border-radius: 0.5rem;
      pointer-events: none;
    }

    .card-title::after {
      content: "";
      position: absolute;
      inset: -10px;
      border-radius: 1rem;
      background:
        radial-gradient(circle at top left, rgba(255, 205, 84, 0.9) 0, rgba(255, 205, 84, 0.9) 6px, transparent 6px),
        radial-gradient(circle at top right, rgba(255, 205, 84, 0.9) 0, rgba(255, 205, 84, 0.9) 6px, transparent 6px),
        radial-gradient(circle at bottom left, rgba(255, 205, 84, 0.9) 0, rgba(255, 205, 84, 0.9) 6px, transparent 6px),
        radial-gradient(circle at bottom right, rgba(255, 205, 84, 0.9) 0, rgba(255, 205, 84, 0.9) 6px, transparent 6px);
      pointer-events: none;
    }

    .gallery-collage {
      display: grid;
      gap: 16px;
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    .gallery-tile {
      position: relative;
      overflow: hidden;
      border-radius: 14px;
      box-shadow: 0 6px 18px rgba(124, 45, 18, 0.18);
      background: #f3ede1;
      aspect-ratio: 1 / 1;
    }

    .gallery-tile img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .gallery-hidden {
      display: none;
    }

    @media (max-width: 640px) {
      .gallery-collage {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .modal-bg {
      backdrop-filter: blur(4px);
    }

    .site-header {
      --logo-size: 8rem;
      --logo-wrapper-max: calc(var(--logo-size) + 3rem);
      transition: padding 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      will-change: padding;
    }

    .site-header .header-inner {
      display: flex;
      flex-direction: column;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      width: 100%;
      position: relative;
      transition: gap 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .logo-wrapper {
      max-height: var(--logo-wrapper-max);
      transition: opacity 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
                  max-height 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
                  margin 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
                  transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      overflow: hidden;
      transform: translateY(0) scale(1);
      transform-origin: top center;
      will-change: opacity, max-height, margin, transform;
    }

    .site-nav {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      width: 100%;
      padding-top: 8px;
      padding-bottom: 8px;
    }

    .nav-link {
      --bw: 1px;
      --radius: 0px;
      --pad: 18px;
      --patternScale: 14px;
      --ornSize: 14px;
      --innerFrameOn: 1;
      --innerFrameWidth: 3px;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 0.35rem;
      line-height: 1;
      min-width: 8.5rem;
      text-align: center;
      border-radius: var(--radius);
      box-shadow:
        0 0 0 2px currentColor,
        inset 0 0 12px color-mix(in srgb, currentColor 25%, transparent);
      letter-spacing: 0.08em;
    }

    .nav-link svg {
      width: 1.4rem;
      height: 1.4rem;
    }

    .nav-link::before {
      content: "";
      position: absolute;
      inset: calc(var(--pad) * 0.27);
      border: calc(var(--innerFrameOn) * var(--innerFrameWidth)) solid currentColor;
      border-radius: calc(var(--radius) * 0.6);
      opacity: 0.6;
      pointer-events: none;
    }

    .nav-link::after {
      content: "";
      position: absolute;
      inset: calc(var(--pad) * -0.3);
      border-radius: calc(var(--radius) + var(--bw));
      background:
        radial-gradient(circle at top left, currentColor 0, currentColor var(--ornSize), transparent var(--ornSize)),
        radial-gradient(circle at top right, currentColor 0, currentColor var(--ornSize), transparent var(--ornSize)),
        radial-gradient(circle at bottom left, currentColor 0, currentColor var(--ornSize), transparent var(--ornSize)),
        radial-gradient(circle at bottom right, currentColor 0, currentColor var(--ornSize), transparent var(--ornSize));
      pointer-events: none;
      opacity: 0.55;
    }

    @media (min-width: 640px) {
      .nav-link svg {
        width: 1.6rem;
        height: 1.6rem;
      }

      .nav-link {
        min-width: 9.5rem;
      }
    }

    @media (max-width: 639px) {
      .site-header {
        --logo-size: 4rem;
        --logo-wrapper-max: calc(var(--logo-size) + 2rem);
      }

      .site-header .header-inner {
        flex-direction: column;
        flex-wrap: nowrap;
        justify-content: center;
        align-items: center;
        gap: 0.75rem;
      }

      .logo-wrapper {
        margin: 0;
      }

      .logo-badge {
        margin-top: 0;
        padding: 0.4rem;
        padding-inline: 0.6rem;
      }

      .site-nav {
        width: 100%;
        justify-content: center;
      }

      /* Hide text labels on mobile visually, but keep for screen readers */
      .nav-link span {
        position: absolute;
        left: -9999px;
        width: 1px;
        height: 1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        clip-path: inset(50%);
        white-space: nowrap;
      }

      .nav-link {
        min-width: auto;
        padding: 0.75rem;
      }

      .nav-link svg {
        width: 1.75rem;
        height: 1.75rem;
      }
    }

    @media (min-width: 640px) {
      .site-header .header-inner {
        flex-direction: row;
        justify-content: center;
      }

      .site-nav {
        justify-content: center;
      }
    }

    .logo-badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      position: relative;
      background-color: #ffcd54;
      background-image: radial-gradient(circle at 20% 20%, rgba(255, 245, 215, 0.65), transparent 60%),
        radial-gradient(circle at 80% 30%, rgba(255, 225, 170, 0.5), transparent 55%),
        linear-gradient(135deg, rgba(120, 52, 25, 0.15), rgba(120, 52, 25, 0));
      border: 4px solid #7a3419;
      border-radius: 9999px;
      padding: 0.7rem;
      padding-inline: calc(0.7rem + 6px);
      margin-top: 5px;
      transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
                  margin 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      box-shadow: inset 0 0 0 2px rgba(255, 240, 204, 0.8),
        0 6px 12px rgba(0, 0, 0, 0.15);
    }

    .logo-badge::before {
      content: "";
      position: absolute;
      inset: 8px;
      border-radius: 9999px;
      border: 2px dashed rgba(122, 52, 25, 0.8);
      box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.4);
      pointer-events: none;
    }

    .logo-badge img {
      height: var(--logo-size);
      width: auto;
      display: block;
    }

    .site-header.is-collapsed .logo-wrapper {
      opacity: 0;
      max-height: 0;
      margin: 0;
      transform: translateY(-0.5rem) scale(0.96);
      pointer-events: none;
    }

  </style>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dompurify/dist/purify.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/tooly/dist/tooly.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tooly/dist/tooly.min.css" />

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-0F7TP7PMQQ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-0F7TP7PMQQ');
  </script>
</head>
<body class="font-sans antialiased text-red-800 flex flex-col bg-center bg-cover bg-fixed relative min-h-screen" style="overflow-x:hidden; margin:0; padding:0;">
  <!-- Static background -->
  <div class="fixed inset-0 bg-center bg-cover" style="background-image: url('assets/images/backgrounds/image-028.jpeg');"></div>

  <!-- Semi-transparent overlay -->
  <div class="fixed inset-0 bg-[#ffcd54] opacity-85 z-10"></div>

  <!-- Header -->
  <header id="site-header" class="site-header sticky top-0 w-full text-center py-6 border-b-8 border-red-800 bg-[#ffcd54] flex-none z-50">
    <div class="header-inner px-4">
      <h1 class="logo-wrapper flex items-center justify-center">
        <span class="logo-badge">
          <img src="assets/images/branding/3.png" alt="J & D's Heritage Hog Farm - Whole Hogs & Red Wattle Hogs" />
        </span>
      </h1>
      <nav class="site-nav text-sm sm:text-base">
        <a href="#home" class="nav-link px-3 py-1.5 sm:px-4 sm:py-2 border-2 border-red-800 bg-[#ffcd54] text-red-800 font-bold uppercase tracking-wide hover:bg-red-800 hover:text-[#ffcd54] transition">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            <polyline points="9 22 9 12 15 12 15 22"></polyline>
          </svg>
          <span>Home</span>
        </a>
        <a href="#about" class="nav-link px-3 py-1.5 sm:px-4 sm:py-2 border-2 border-red-800 bg-[#ffcd54] text-red-800 font-bold uppercase tracking-wide hover:bg-red-800 hover:text-[#ffcd54] transition">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="16" x2="12" y2="12"></line>
            <line x1="12" y1="8" x2="12.01" y2="8"></line>
          </svg>
          <span>About Us</span>
        </a>
        <a href="#buy" class="nav-link px-3 py-1.5 sm:px-4 sm:py-2 border-2 border-red-800 bg-[#ffcd54] text-red-800 font-bold uppercase tracking-wide hover:bg-red-800 hover:text-[#ffcd54] transition">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <circle cx="9" cy="21" r="1"></circle>
            <circle cx="20" cy="21" r="1"></circle>
            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
          </svg>
          <span>Buy a Hog</span>
        </a>
        <a href="#contact" class="nav-link px-3 py-1.5 sm:px-4 sm:py-2 border-2 border-red-800 bg-[#ffcd54] text-red-800 font-bold uppercase tracking-wide hover:bg-red-800 hover:text-[#ffcd54] transition">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
          </svg>
          <span>Contact Us</span>
        </a>
      </nav>
    </div>
  </header>
  
  <!-- Main Content -->
  <main class="max-w-4xl mx-auto p-8 sm:p-4 flex-grow overflow-auto relative z-20 flex flex-col items-center justify-start">
    <!-- Home Section -->
    <section id="home" class="mb-12 p-6 sm:p-4 border-4 rounded-lg border-red-800 shadow-none w-full text-center">
      <h2 class="card-title text-3xl sm:text-2xl font-black uppercase bg-red-800 text-[#ffcd54] text-center mb-4 p-2">Home</h2>
      <div id="home-content" class="markdown-content text-lg sm:text-base">
        <!-- home.md should contain keyword-rich content about hogs for sale, whole hogs, red wattle hogs, etc. -->
      </div>
    </section>

    <!-- About Section -->
    <section id="about" class="mb-12 p-6 sm:p-4 border-4 rounded-lg border-red-800 shadow-none w-full text-center">
      <h2 class="card-title text-3xl sm:text-2xl font-black uppercase bg-red-800 text-[#ffcd54] text-center mb-4 p-2">About Us</h2>
      <div id="about-content" class="markdown-content text-lg sm:text-base">
        <!-- about.md should also mention whole hogs, red wattle hogs, hogs for sale, etc. -->
      </div>

      <!-- Profile Panels -->
      <div class="flex flex-col sm:flex-row gap-8 items-center justify-center mt-8 w-full">
        <div class="max-w-sm text-center flex flex-col items-center">
          <img src="assets/images/general/007.jpg" alt="Joe at J & D's - Hog Specialist" class="w-48 h-48 object-cover rounded-full mx-auto mb-4">
          <h3 class="text-xl font-bold mb-2">Joe Rice</h3>
          <p class="text-red-800 text-center px-4">
            Joe built J &amp; D’s Hog Farm from the ground up, designing every detail so Deb could manage her routine despite having Multiple Sclerosis. From fencing to barns, Joe’s hands-on approach ensures the farm runs smoothly, reflecting his deep commitment to both his animals and his family.
          </p>
        </div>
        <div class="max-w-sm text-center flex flex-col items-center">
          <img src="assets/images/general/006.jpg" alt="Deb at J & D's - Culinary & Community" class="w-48 h-48 object-cover rounded-full mx-auto mb-4">
          <h3 class="text-xl font-bold mb-2">Deb Rice</h3>
          <p class="text-red-800 text-center px-4">
            Deb keeps the farm’s finances in order, handles day-to-day tasks, and makes sure Joe stays well-fed. Despite the challenges of Multiple Sclerosis, she’s the linchpin of J &amp; D’s Hog Farm, balancing the books and overseeing the homestead with care and dedication.
          </p>
        </div>
      </div>
    </section>

    <!-- Buy Section -->
    <section id="buy" class="mb-12 p-6 sm:p-4 border-4 rounded-lg border-red-800 shadow-none w-full text-center">
      <h2 class="card-title text-3xl sm:text-2xl font-black uppercase bg-red-800 text-[#ffcd54] text-center mb-4 p-2">Buy a Hog</h2>
      <div id="buy-content" class="markdown-content text-lg sm:text-base text-left">
        <!-- buy.md should outline hog options and ordering details. -->
      </div>
      <div class="mt-6 flex justify-center">
        <a
          href="#contact"
          class="px-5 py-2 border-2 border-red-800 bg-[#ffcd54] text-red-800 rounded-full font-bold uppercase tracking-wide hover:bg-red-800 hover:text-[#ffcd54] transition"
        >
          Contact us
        </a>
      </div>
    </section>

    <!-- Gallery Section -->
    <section class="mb-12 p-6 sm:p-4 border-4 rounded-lg border-red-800 w-full text-center">
      <h2 class="card-title text-3xl sm:text-2xl font-black uppercase bg-red-800 text-[#ffcd54] text-center mb-4 p-2">Gallery</h2>
      <div id="gallery-collage" class="gallery-collage w-full" aria-label="Portrait collage of Red Wattle hogs">
        <figure class="gallery-tile gallery-tile--one">
          <img src="assets/images/general/001.jpg" alt="A Red Wattle hog’s muddy snout looking at the camera">
        </figure>
        <figure class="gallery-tile gallery-tile--two">
          <img src="assets/images/general/002.jpg" alt="A Red Wattle hog exploring under oak trees">
        </figure>
        <figure class="gallery-tile gallery-tile--three">
          <img src="assets/images/general/003.jpg" alt="A Red Wattle hog near a fence in the forest">
        </figure>
        <figure class="gallery-tile gallery-tile--four">
          <img src="assets/images/general/004.jpg" alt="A muddy Red Wattle hog’s snout seen up close">
        </figure>
        <figure class="gallery-tile gallery-tile--five">
          <img src="assets/images/general/005.jpg" alt="A front-facing Red Wattle hog portrait">
        </figure>
        <figure class="gallery-tile gallery-tile--six">
          <img src="assets/images/general/008.jpg" alt="A Red Wattle hog grazing in tall grass">
        </figure>
        <figure class="gallery-tile gallery-tile--seven gallery-hidden" data-gallery-hidden>
          <img src="assets/images/general/009.jpg" alt="Two Red Wattle hogs resting together">
        </figure>
        <figure class="gallery-tile gallery-tile--eight gallery-hidden" data-gallery-hidden>
          <img src="assets/images/general/010.jpg" alt="A Red Wattle hog standing near a trough">
        </figure>
        <figure class="gallery-tile gallery-tile--nine gallery-hidden" data-gallery-hidden>
          <img src="assets/images/general/011.jpg" alt="A Red Wattle hog in dappled forest light">
        </figure>
        <figure class="gallery-tile gallery-tile--ten gallery-hidden" data-gallery-hidden>
          <img src="assets/images/general/012.jpg" alt="A Red Wattle hog walking across the pasture">
        </figure>
      </div>
      <div class="mt-6 flex justify-center">
        <button
          id="gallery-load-more"
          class="px-5 py-2 border-2 border-red-800 bg-[#ffcd54] text-red-800 rounded-full font-bold uppercase tracking-wide hover:bg-red-800 hover:text-[#ffcd54] transition"
          aria-controls="gallery-collage"
          aria-expanded="false"
          type="button"
        >
          Load More
        </button>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="text-center p-6 sm:p-4 border-4 border-red-800 mb-12 w-full flex flex-col items-center">
      <h3 class="card-title text-2xl sm:text-xl font-black uppercase bg-red-800 text-[#ffcd54] text-center mb-4 p-2 w-full">Get Started Today!</h3>
      <p class="mb-4 text-red-800 text-base sm:text-lg max-w-2xl">
        Pasture-raised Red Wattle hogs deliver rich, marbled pork for freezer-fillers and food lovers alike. We offer whole hogs, feeder hogs, and future reservations, with pre-orders and full payment required before butcher pickup. For detailed options, visit the
        <a href="#buy" class="font-bold underline underline-offset-4 hover:text-red-900">Buy a Hog</a>
        section and reach out if you want help choosing.
      </p>
      <form
        id="contact-form"
        class="max-w-md mx-auto space-y-4 w-full"
        action="https://formspree.io/f/xvgongjo"
        method="POST"
      >
        <label class="block text-left w-full">
          <span class="text-red-800 font-bold">Your Name:</span>
          <input
            class="w-full mt-1 border border-gray-300 rounded p-2 focus:outline-none focus:ring-2 focus:ring-red-500"
            type="text"
            name="name"
            placeholder="Your Name"
            maxlength="30"
            required
          />
        </label>

        <label class="block text-left w-full">
          <span class="text-red-800 font-bold">Your Email:</span>
          <input
            class="w-full mt-1 border border-gray-300 rounded p-2 focus:outline-none focus:ring-2 focus:ring-red-500"
            type="email"
            name="email"
            placeholder="Your Email"
            maxlength="50"
            required
          />
        </label>

        <label class="block text-left w-full">
          <span class="text-red-800 font-bold">Your Message: Tell us what you're looking for and when you need it.</span>
          <textarea
            class="w-full mt-1 border border-gray-300 rounded p-2 focus:outline-none focus:ring-2 focus:ring-red-500"
            name="message"
            placeholder="Let us know if you're interested in whole hogs, red wattle hogs, or a 1/4 hog share."
            rows="4"
            maxlength="500"
            required
          ></textarea>
        </label>

        <button
          type="submit"
          class="px-4 py-2 bg-red-800 text-white font-semibold rounded hover:bg-red-900 transition w-full"
        >
          Send
        </button>
      </form>

    </section>

    <!-- Map Section -->
    <section class="mb-12 p-6 sm:p-4 border-4 border-red-800 rounded-lg bg-primary w-full text-center">
      <h4 class="card-title text-2xl sm:text-xl font-black uppercase bg-red-800 text-[#ffcd54] text-center mb-4 p-2">Where We're Located</h4>
      <div class="relative w-full h-[450px]">
        <iframe 
          class="absolute inset-0 w-full h-full"
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d47510.36286382497!2d-92.269941!3d37.13819095!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x87d0081648854f83%3A0x7dcdeb008ad2fbe2!2sMountain%20Grove%2C%20MO%2065711!5e1!3m2!1sen!2sus!4v1733535778975!5m2!1sen!2sus"
          style="border:0;" 
          allowfullscreen="" 
          loading="lazy" 
          referrerpolicy="no-referrer-when-downgrade">
        </iframe>
      </div>
    </section>
  </main>

  <!-- FAQ Section -->
  <div class="fixed right-6 z-[70] flex flex-col items-end" id="faq-button-container">
    <span class="text-[#ffcd54] font-bold text-sm mb-2 bg-red-800 px-3 py-1 rounded-full border-2 border-[#ffcd54] shadow-md">Frequently Asked Questions (FAQs)</span>
    <button
      id="faq-drawer-button"
      class="bg-red-800 text-[#ffcd54] shadow-lg border-2 border-[#ffcd54] hover:bg-red-900 transition flex items-center justify-center"
      aria-expanded="false"
      aria-controls="faq-drawer"
      aria-label="Open Frequently Asked Questions"
      type="button"
    >
      <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 16 16">
        <path fill="currentColor" d="M7.5 2A2.5 2.5 0 0 1 10 4.5c0 .523-.167.923-.423 1.24a3 3 0 0 1-.624.561l-.167.117c-.262.182-.451.317-.586.483a.88.88 0 0 0-.2.598v1a.5.5 0 0 1-1 0v-1c0-.519.168-.916.425-1.23c.185-.226.413-.404.616-.55l.173-.121c.26-.181.449-.317.584-.485A.9.9 0 0 0 9 4.5a1.5 1.5 0 0 0-3 0a.5.5 0 0 1-1 0A2.5 2.5 0 0 1 7.5 2m0 8.1a.875.875 0 1 1 0 1.75a.875.875 0 0 1 0-1.75"/>
        <path fill="currentColor" fill-rule="evenodd" d="M7.5 14c1.18 0 2.19-.137 3.05-.389c1 .699 2.33 1.42 4.05 2.27c.916.456 1.79-.578 1.21-1.42c-.727-1.07-1.36-2.11-1.86-3.29c.736-1.17 1.04-2.61 1.04-4.17c0-3.87-1.88-7-7.5-7s-7.5 3.14-7.5 7c0 3.87 1.88 7 7.5 7zm5.61-3.36a1 1 0 0 0-.077.92c.516 1.23 1.17 2.31 1.89 3.37c-1.65-.823-2.88-1.5-3.8-2.14a1 1 0 0 0-.852-.14c-.758.221-1.67.349-2.77.349c-2.63 0-4.2-.728-5.13-1.73C1.43 10.249 1 8.789 1 6.999s.434-3.26 1.37-4.27c.927-1 2.5-1.73 5.13-1.73s4.2.728 5.13 1.73c.94 1.02 1.37 2.48 1.37 4.27c0 1.44-.284 2.68-.888 3.64z" clip-rule="evenodd"/>
      </svg>
    </button>
  </div>
  <div id="faq-drawer-overlay" class="fixed inset-0 bg-black/40 z-[60] hidden"></div>
  <aside
    id="faq-drawer"
    class="fixed top-0 right-0 h-full w-full sm:w-[420px] max-w-[90vw] bg-[#ffcd54]/95 border-l-4 border-red-800 z-[70] transform translate-x-full transition-transform duration-300 ease-in-out flex flex-col"
    aria-hidden="true"
  >
    <div class="flex items-center justify-between px-6 py-4 border-b-4 border-red-800 bg-red-800 text-[#ffcd54]">
      <h2 class="text-xl sm:text-2xl font-black uppercase">FAQs</h2>
      <button id="faq-drawer-close" class="text-2xl font-bold leading-none hover:text-white" type="button" aria-label="Close FAQ drawer">
        &times;
      </button>
    </div>
    <div class="flex-1 overflow-y-auto px-6 py-6 space-y-4 text-left">
      <div class="border-4 border-red-800 rounded-lg p-4 bg-[#ffcd54]">
        <button class="w-full flex items-center justify-between text-left text-xl sm:text-lg font-bold text-red-800" data-faq-toggle aria-expanded="false" aria-controls="faq-panel-1">
          <span>1. What Is a Heritage Hog Farm, and Why Should I Care?</span>
          <span class="text-2xl leading-none">+</span>
        </button>
        <div id="faq-panel-1" class="mt-4 text-red-800 text-lg sm:text-base hidden" data-faq-panel>
          <p>Have you ever wondered why store-bought pork doesn't taste as rich and flavorful as the home-cooked meals you remember? You're not alone—that's exactly why we started J &amp; D's Hog Farm. We raise heritage hogs the old-fashioned way, allowing pigs to roam freely on open pastures, grow naturally, and develop that deep, delicious flavor you just can't get from commercial farms.</p>
          <ul class="list-disc pl-6">
            <li>Traditional Breeds: Raised for flavor, hardiness, and respect for natural growth rates.</li>
            <li>Pasture-Based Living: Hogs enjoy sunlight, space to roam, and natural foraging.</li>
            <li>Ethical &amp; Sustainable: A slower, more caring approach that yields superior taste and quality.</li>
          </ul>
        </div>
      </div>

        <div class="border-4 border-red-800 rounded-lg p-4 bg-[#ffcd54]">
          <button class="w-full flex items-center justify-between text-left text-xl sm:text-lg font-bold text-red-800" data-faq-toggle aria-expanded="false" aria-controls="faq-panel-2">
            <span>2. What Are Red Wattle Hogs?</span>
            <span class="text-2xl leading-none">+</span>
          </button>
          <div id="faq-panel-2" class="mt-4 text-red-800 text-lg sm:text-base hidden" data-faq-panel>
            <p>Red Wattle Hogs are a distinctive heritage breed known for the wattles—small, fleshy tassels—dangling under their necks and their striking rust-red coats. They’re gentle, adaptable, and produce some of the most tender, richly flavored pork around. By letting these hogs forage and interact in a natural setting, we help them develop healthy muscle and fat—ensuring you enjoy pork that’s juicy, well-marbled, and unforgettable.</p>
            <ul class="list-disc pl-6">
              <li>Rare Heritage Breed: Recognizable by their rust-colored coat and unique wattles.</li>
              <li>Mild Temperament: Well-suited to pasture life, making them easy to manage ethically.</li>
              <li>Superior Flavor: Deep, robust taste thanks to slow growth and natural diets.</li>
            </ul>
          </div>
        </div>

        <div class="border-4 border-red-800 rounded-lg p-4 bg-[#ffcd54]">
          <button class="w-full flex items-center justify-between text-left text-xl sm:text-lg font-bold text-red-800" data-faq-toggle aria-expanded="false" aria-controls="faq-panel-3">
            <span>3. How do I choose the right hog?</span>
            <span class="text-2xl leading-none">+</span>
          </button>
          <div id="faq-panel-3" class="mt-4 text-red-800 text-lg sm:text-base hidden" data-faq-panel>
            <p>The size and farrow selection depend on your needs and preferences:</p>
            <ul class="list-disc pl-6">
              <li>Whole Hog: Ideal for families or individuals seeking a bulk pork supply (~275 lbs live weight).</li>
              <li>Feeder Barrow: A great option if you want to raise a castrated male yourself (~50 lbs live weight).</li>
              <li>Feeder Gilt: Perfect for future breeding or personal pork production (~25 lbs live weight).</li>
              <li>Next Available Farrow: Best for immediate reservation, ensuring your spot in the current lineup.</li>
              <li>Upcoming Availability: For those planning further ahead and securing future hogs.</li>
            </ul>
            <p>If you’re unsure, reach out—we’re happy to guide you in selecting the perfect fit!</p>
          </div>
        </div>

        <div class="border-4 border-red-800 rounded-lg p-4 bg-[#ffcd54]">
          <button class="w-full flex items-center justify-between text-left text-xl sm:text-lg font-bold text-red-800" data-faq-toggle aria-expanded="false" aria-controls="faq-panel-4">
            <span>4. How Do I Order a Feeder Hog or a Whole Hog?</span>
            <span class="text-2xl leading-none">+</span>
          </button>
          <div id="faq-panel-4" class="mt-4 text-red-800 text-lg sm:text-base hidden" data-faq-panel>
            <p>If you’re ready to experience the difference, ordering from J &amp; D’s is simple. We sell feeder hogs at about 25–75 pounds if you’d like to raise them yourself. For those wanting a fully grown hog, our whole hogs typically weigh between 250–300 pounds and are ready for butchering. You can browse our website or call us directly to place your order. Once the hog is at your desired weight, we’ll coordinate with you for pickup.</p>
            <ul class="list-disc pl-6">
              <li>Two Options: 25–75 lb feeder hogs or 250–300 lb whole hogs.</li>
              <li>Easy Ordering: Reserve online or by phone.</li>
              <li>Seamless Coordination: We update you when your hog reaches market weight.</li>
            </ul>
          </div>
        </div>

        <div class="border-4 border-red-800 rounded-lg p-4 bg-[#ffcd54]">
          <button class="w-full flex items-center justify-between text-left text-xl sm:text-lg font-bold text-red-800" data-faq-toggle aria-expanded="false" aria-controls="faq-panel-5">
            <span>5. What Does Pre-Ordering Mean?</span>
            <span class="text-2xl leading-none">+</span>
          </button>
          <div id="faq-panel-5" class="mt-4 text-red-800 text-lg sm:text-base hidden" data-faq-panel>
            <p>Pre-ordering ensures you have a hog reserved before it’s fully grown or even born. This guarantees your spot in line, especially since our limited heritage hogs sell quickly. Payment must be made in full before the hog is delivered to the butcher, where you will handle pickup directly.</p>
            <ul class="list-disc pl-6">
              <li>Guaranteed Reservation: Secure your hog before it’s sold out.</li>
              <li>Full Payment Required: Payment is required before the hog is dropped off at the butcher.</li>
              <li>Pickup Required: You must pick up your hog directly from the butcher.</li>
            </ul>
          </div>
        </div>

        <div class="border-4 border-red-800 rounded-lg p-4 bg-[#ffcd54]">
          <button class="w-full flex items-center justify-between text-left text-xl sm:text-lg font-bold text-red-800" data-faq-toggle aria-expanded="false" aria-controls="faq-panel-6">
            <span>6. Why Is J &amp; D’s Hog Farm Pre-Order Only?</span>
            <span class="text-2xl leading-none">+</span>
          </button>
          <div id="faq-panel-6" class="mt-4 text-red-800 text-lg sm:text-base hidden" data-faq-panel>
            <p>As a small heritage farm, our hogs are in high demand because each animal receives individualized care, ample pasture space, and a high-quality, natural diet. By the time new piglets arrive, many are already claimed by people who appreciate ethically raised pork. Pre-ordering ensures fairness, fosters a community of hog lovers, and helps us plan each hog’s care without overstretching our resources.</p>
            <ul class="list-disc pl-6">
              <li>High Demand: Limited animals with exceptional quality.</li>
              <li>Community Building: Shared values among customers and farm.</li>
              <li>Ethical, Compassionate Care: Each hog is honored from birth to butcher.</li>
            </ul>
          </div>
        </div>

        <div class="border-4 border-red-800 rounded-lg p-4 bg-[#ffcd54]">
          <button class="w-full flex items-center justify-between text-left text-xl sm:text-lg font-bold text-red-800" data-faq-toggle aria-expanded="false" aria-controls="faq-panel-7">
            <span>7. Do You Provide Delivery Services?</span>
            <span class="text-2xl leading-none">+</span>
          </button>
          <div id="faq-panel-7" class="mt-4 text-red-800 text-lg sm:text-base hidden" data-faq-panel>
            <p>We don’t offer shipping or long-distance delivery at this time. If you’re purchasing a feeder hog, you’ll pick it up directly from our farm once it’s ready. For a whole hog, we’ll transport it to the local butcher—and it’s then your responsibility to pick it up once processing is complete. If you have specific logistics concerns, let us know, and we’ll do our best to help you find a workable solution.</p>
          </div>
        </div>

        <div class="border-4 border-red-800 rounded-lg p-4 bg-[#ffcd54]">
          <button class="w-full flex items-center justify-between text-left text-xl sm:text-lg font-bold text-red-800" data-faq-toggle aria-expanded="false" aria-controls="faq-panel-8">
            <span>8. Does J &amp; D’s Provide Butcher Services?</span>
            <span class="text-2xl leading-none">+</span>
          </button>
          <div id="faq-panel-8" class="mt-4 text-red-800 text-lg sm:text-base hidden" data-faq-panel>
            <p>Because these animals are raised and then butchered to your specific needs, we typically don’t offer refunds or returns after processing. Once the hog is delivered to the butcher, all weights are final, and no returns or adjustments are possible. Payment must be received in full before we drop off your hog, and it is then your responsibility to pick up the hog directly from the butcher. However, if you need to make adjustments prior to butcher, let us know as soon as possible—we’ll do our best to find a fair outcome, such as matching your hog to a new buyer. Our goal is to keep communication open so everyone feels treated fairly.</p>
            <ul class="list-disc pl-6">
              <li>Custom Orders: Once processed, refunds or returns aren’t usually possible.</li>
              <li>Final Weights: No returns or adjustments once the hog is at the butcher.</li>
              <li>Full Payment &amp; Pickup: Payment is required in full before drop-off, and you must pick up your hog directly from the butcher.</li>
              <li>Case-by-Case Approach: Contact us early if your plans change so we can explore possible solutions.</li>
            </ul>
          </div>
        </div>

        <div class="border-4 border-red-800 rounded-lg p-4 bg-[#ffcd54]">
          <button class="w-full flex items-center justify-between text-left text-xl sm:text-lg font-bold text-red-800" data-faq-toggle aria-expanded="false" aria-controls="faq-panel-9">
            <span>9. What If My Final Weight Is Less Than I Expected?</span>
            <span class="text-2xl leading-none">+</span>
          </button>
          <div id="faq-panel-9" class="mt-4 text-red-800 text-lg sm:text-base hidden" data-faq-panel>
            <p>All weights are final, and we do not offer returns. While hog weights may naturally vary due to genetics, diet, and overall health, we aim to provide accurate estimates. Once the hog is dropped off at the butcher, it becomes your responsibility to coordinate pickup. Payment must be made in full before we deliver the hog to the butcher.</p>
            <ul class="list-disc pl-6">
              <li>Final Weights: All weights are final; no returns or adjustments.</li>
              <li>Full Payment Required: Hogs are dropped off at the butcher only after payment is received.</li>
              <li>Pickup Responsibility: You are responsible for picking up your hog directly from the butcher.</li>
            </ul>
          </div>
        </div>

        <div class="border-4 border-red-800 rounded-lg p-4 bg-[#ffcd54]">
          <button class="w-full flex items-center justify-between text-left text-xl sm:text-lg font-bold text-red-800" data-faq-toggle aria-expanded="false" aria-controls="faq-panel-10">
            <span>10. Are There Refunds or Returns Available?</span>
            <span class="text-2xl leading-none">+</span>
          </button>
          <div id="faq-panel-10" class="mt-4 text-red-800 text-lg sm:text-base hidden" data-faq-panel>
            <p>Because these animals are raised and then butchered to your specific needs, we typically don’t offer refunds or returns after processing. However, life sometimes changes unexpectedly. If you need to make adjustments, tell us as soon as possible, and we’ll do our best to find a fair outcome—like matching your hog to a new buyer. Our goal is to keep communication open so everyone feels treated fairly.</p>
            <ul class="list-disc pl-6">
              <li>Custom Orders: Once processed, refunds or returns aren’t usually possible.</li>
              <li>Flexibility: If plans change, contact us immediately.</li>
              <li>Case-by-Case Approach: We strive to find solutions that work for everyone.</li>
            </ul>
          </div>
        </div>
      </div>
    </aside>

  <!-- Footer (moved outside of main) -->
  <footer class="py-6 text-center mt-12 border-t-8 border-red-800 bg-[#ffcd54]/90 relative z-20 w-full flex-none">
    <p class="text-sm text-red-800">
      &copy; <span id="current-year">2024</span> J & D's Heritage Hog Farm. All rights reserved.
    </p>
  </footer>

  <!-- Modal -->
  <div id="modal-overlay" class="fixed inset-0 z-50 hidden">
    <div class="modal-bg absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4">
      <div class="max-w-sm w-full bg-[#ffcd54] border-4 border-red-800 rounded-lg p-6 relative text-center">
        <button id="close-modal" class="absolute top-2 right-2 text-red-800 font-bold text-xl hover:text-red-900">&times;</button>
        <h2 id="modal-title" class="text-2xl font-black uppercase bg-red-800 text-[#ffcd54] text-center mb-4 p-2">Status</h2>
        <p id="modal-message" class="text-red-800 mb-4 text-center text-lg"></p>
        <div class="text-center">
          <button id="close-button" class="px-4 py-2 bg-red-800 text-white font-semibold rounded hover:bg-red-900 transition">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Initialize Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyDSkvoFMBcWcBGSdI6T485ElFf4EOzGhis",
      authDomain: "jd-hog-farm.firebaseapp.com",
      projectId: "jd-hog-farm",
      storageBucket: "jd-hog-farm.firebasestorage.app",
      messagingSenderId: "325404735338",
      appId: "1:325404735338:web:92a20c931315c8527d5713",
      measurementId: "G-VDRV1TREKD"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    document.addEventListener('DOMContentLoaded', function () {
      var homeContainer = document.querySelector('#home-content');
      var aboutContainer = document.querySelector('#about-content');
      var buyContainer = document.querySelector('#buy-content');
      const modalOverlay = document.getElementById('modal-overlay');
      const modalTitle = document.getElementById('modal-title');
      const modalMessage = document.getElementById('modal-message');
      const closeModal = document.getElementById('close-modal');
      const closeButton = document.getElementById('close-button');
      const header = document.querySelector('.site-header');
      const currentYear = document.getElementById('current-year');
      if (currentYear) {
        currentYear.textContent = new Date().getFullYear();
      }

      const updateHeaderState = () => {
        if (!header) return;
        const isMobile = window.matchMedia('(max-width: 639px)').matches;
        if (isMobile) {
          header.classList.remove('is-collapsed');
          return;
        }
        const shouldCollapse = window.scrollY > 80;
        header.classList.toggle('is-collapsed', shouldCollapse);
      };

      updateHeaderState();
      window.addEventListener('scroll', updateHeaderState, { passive: true });
      window.addEventListener('resize', updateHeaderState);

      const navLinks = document.querySelectorAll('.site-nav a[href^="#"]');
      navLinks.forEach(link => {
        link.addEventListener('click', event => {
          const targetId = link.getAttribute('href');
          if (!targetId) return;
          const target = document.querySelector(targetId);
          if (!target) return;
          event.preventDefault();
          target.scrollIntoView({ behavior: 'smooth', block: 'center' });
        });
      });

      function showModal(title, message) {
        modalTitle.innerText = title;
        modalMessage.innerText = message;
        modalOverlay.classList.remove('hidden');
      }

      function hideModal() {
        modalOverlay.classList.add('hidden');
      }

      closeModal.addEventListener('click', hideModal);
      closeButton.addEventListener('click', hideModal);

      // Handle contact form submission
      const contactForm = document.getElementById('contact-form');
      const FORMSPREE_ENDPOINT = contactForm?.getAttribute('action') || 'https://formspree.io/f/xvgongjo';

      if (contactForm) {
        contactForm.addEventListener('submit', async function(event) {
          event.preventDefault();

          const submitButton = contactForm.querySelector('button[type="submit"]');
          const originalButtonText = submitButton.textContent;
          submitButton.disabled = true;
          submitButton.textContent = 'Sending...';

          // Get form data for Firebase
          const firebaseData = {
            name: contactForm.querySelector('input[name="name"]').value,
            email: contactForm.querySelector('input[name="email"]').value,
            message: contactForm.querySelector('textarea[name="message"]').value,
            timestamp: firebase.firestore.FieldValue.serverTimestamp(),
            submittedAt: new Date().toISOString()
          };

          // Create FormData for Formspree (proper format)
          const formspreeData = new FormData(contactForm);
          formspreeData.set('_replyto', firebaseData.email);
          formspreeData.set('_subject', 'New J&D Hog Farm inquiry');

          console.log('=== Form Submission Started ===');
          console.log('Name:', firebaseData.name);
          console.log('Email:', firebaseData.email);
          console.log('Message:', firebaseData.message);

          try {
            // 1. Save to Firebase first (this is our log/backup)
            console.log('Saving to Firebase...');
            const firebaseResult = await db.collection('messages').add(firebaseData);
            console.log('✓ Message saved to Firebase with ID:', firebaseResult.id);

            // 2. Submit to Formspree using Fetch API with FormData
            console.log('Submitting to Formspree...');
            console.log('Endpoint:', FORMSPREE_ENDPOINT);

            const formspreeResponse = await fetch(FORMSPREE_ENDPOINT, {
              method: 'POST',
              body: formspreeData,
              headers: {
                'Accept': 'application/json'
              }
            });

            console.log('Formspree response status:', formspreeResponse.status);
            console.log('Formspree response ok:', formspreeResponse.ok);

            // Parse the response
            const formspreeResult = await formspreeResponse.json();
            console.log('Formspree response:', formspreeResult);

            if (formspreeResponse.ok) {
              console.log('✓ Formspree submission successful!');
              showModal('Success!', 'Thank you for your message! We\'ll get back to you soon.');
              contactForm.reset();
            } else {
              // Formspree returned an error
              console.error('✗ Formspree returned an error:', formspreeResult);
              const errorMessage = formspreeResult.error || formspreeResult.errors || 'Unknown error from Formspree';
              showModal('Partial Success', `Your message was saved, but there was an issue sending the email notification: ${errorMessage}. We will still receive your message.`);
              contactForm.reset();
            }

            submitButton.disabled = false;
            submitButton.textContent = originalButtonText;

          } catch (error) {
            console.error('=== Error During Form Submission ===');
            console.error('Error type:', error.name);
            console.error('Error message:', error.message);
            console.error('Error stack:', error.stack);

            // Check if Firebase at least succeeded
            if (error.message.includes('fetch') || error.message.includes('Formspree')) {
              showModal('Partial Success', 'Your message was saved to our database, but there was an issue with the email notification. We will still receive your message.');
            } else {
              showModal('Error', 'There was an error sending your message. Please try again or contact us directly.');
            }

            submitButton.disabled = false;
            submitButton.textContent = originalButtonText;
          }
        });
      }

      // Load home.md
      fetch('data/home.md')
        .then(response => {
          if (!response.ok) {
            throw new Error('HTTP error! status: ' + response.status);
          }
          return response.text();
        })
        .then(markdown => {
          const rawHtml = marked.parse(markdown);
          const safeHtml = DOMPurify.sanitize(rawHtml);
          homeContainer.innerHTML = safeHtml;
        })
        .catch(error => {
          console.error('Error loading home.md:', error);
          homeContainer.innerText = 'Sorry, the Home section could not be loaded.';
        });

      // Load about.md
      fetch('data/about.md')
        .then(response => {
          if (!response.ok) {
            throw new Error('HTTP error! status: ' + response.status);
          }
          return response.text();
        })
        .then(markdown => {
          const rawHtml = marked.parse(markdown);
          const safeHtml = DOMPurify.sanitize(rawHtml);
          aboutContainer.innerHTML = safeHtml;
        })
        .catch(error => {
          console.error('Error loading about.md:', error);
          aboutContainer.innerText = 'Sorry, the About Us section could not be loaded.';
        });

      // Load buy.md
      fetch('data/buy.md')
        .then(response => {
          if (!response.ok) {
            throw new Error('HTTP error! status: ' + response.status);
          }
          return response.text();
        })
        .then(markdown => {
          const rawHtml = marked.parse(markdown);
          const safeHtml = DOMPurify.sanitize(rawHtml);
          buyContainer.innerHTML = safeHtml;
        })
        .catch(error => {
          console.error('Error loading buy.md:', error);
          buyContainer.innerText = 'Sorry, the Buy a Hog section could not be loaded.';
        });

      const faqDrawerButton = document.getElementById('faq-drawer-button');
      const faqDrawer = document.getElementById('faq-drawer');
      const faqDrawerOverlay = document.getElementById('faq-drawer-overlay');
      const faqDrawerClose = document.getElementById('faq-drawer-close');
      const setFaqScrollLock = isLocked => {
        document.documentElement.classList.toggle('faq-drawer-open', isLocked);
        document.body.classList.toggle('faq-drawer-open', isLocked);
      };

      const openFaqDrawer = () => {
        if (!faqDrawer || !faqDrawerButton || !faqDrawerOverlay) {
          return;
        }
        faqDrawer.classList.remove('translate-x-full');
        faqDrawerOverlay.classList.remove('hidden');
        faqDrawer.setAttribute('aria-hidden', 'false');
        faqDrawerButton.setAttribute('aria-expanded', 'true');
        setFaqScrollLock(true);
      };

      const closeFaqDrawer = () => {
        if (!faqDrawer || !faqDrawerButton || !faqDrawerOverlay) {
          return;
        }
        faqDrawer.classList.add('translate-x-full');
        faqDrawerOverlay.classList.add('hidden');
        faqDrawer.setAttribute('aria-hidden', 'true');
        faqDrawerButton.setAttribute('aria-expanded', 'false');
        setFaqScrollLock(false);
      };

      if (faqDrawerButton) {
        faqDrawerButton.addEventListener('click', openFaqDrawer);
      }

      if (faqDrawerOverlay) {
        faqDrawerOverlay.addEventListener('click', closeFaqDrawer);
      }

      if (faqDrawerClose) {
        faqDrawerClose.addEventListener('click', closeFaqDrawer);
      }

      const faqFooter = document.querySelector('footer');
      const faqFooterBuffer = 16;
      const faqButtonContainer = document.getElementById('faq-button-container');

      const updateFaqButtonOffset = () => {
        if (!faqButtonContainer || !faqFooter) {
          return;
        }

        const footerRect = faqFooter.getBoundingClientRect();
        const viewportHeight = window.innerHeight || document.documentElement.clientHeight;
        const overlap = Math.max(0, viewportHeight - footerRect.top + faqFooterBuffer);
        faqButtonContainer.style.setProperty('--faq-button-offset', `${overlap}px`);
      };

      updateFaqButtonOffset();
      window.addEventListener('scroll', updateFaqButtonOffset, { passive: true });
      window.addEventListener('resize', updateFaqButtonOffset);

      const faqToggles = document.querySelectorAll('[data-faq-toggle]');
      const faqPanels = document.querySelectorAll('[data-faq-panel]');
      const galleryLoadMore = document.getElementById('gallery-load-more');
      const galleryHiddenTiles = document.querySelectorAll('[data-gallery-hidden]');

      if (galleryLoadMore) {
        if (!galleryHiddenTiles.length) {
          galleryLoadMore.classList.add('gallery-hidden');
        } else {
          galleryLoadMore.addEventListener('click', () => {
            galleryHiddenTiles.forEach(tile => tile.classList.remove('gallery-hidden'));
            galleryLoadMore.classList.add('gallery-hidden');
            galleryLoadMore.setAttribute('aria-expanded', 'true');
          });
        }
      }

      faqToggles.forEach(toggle => {
        toggle.addEventListener('click', () => {
          const targetId = toggle.getAttribute('aria-controls');
          const targetPanel = document.getElementById(targetId);
          const isExpanded = toggle.getAttribute('aria-expanded') === 'true';

          faqToggles.forEach(btn => {
            btn.setAttribute('aria-expanded', 'false');
            const icon = btn.querySelector('span:last-child');
            if (icon) {
              icon.textContent = '+';
            }
          });

          faqPanels.forEach(panel => {
            panel.classList.add('hidden');
          });

          if (!isExpanded && targetPanel) {
            toggle.setAttribute('aria-expanded', 'true');
            targetPanel.classList.remove('hidden');
            const icon = toggle.querySelector('span:last-child');
            if (icon) {
              icon.textContent = '−';
            }
          }
        });
      });

    });
  </script>
</body>
</html>
